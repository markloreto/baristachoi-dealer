<!--
  Generated template for the Callsheet page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="primary">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Daily Schedule</ion-title>
  </ion-navbar>
  <ion-toolbar>
    <ion-buttons>
      <button ion-button icon-left clear [color]="accColor">
        <ion-icon name="locate" *ngIf="!gpsError"></ion-icon>
        <ion-spinner name="bubbles" *ngIf="gpsError"></ion-spinner>
        <span *ngIf="accuracy == 'Positioning...'">{{ accuracy }}</span><span *ngIf="accuracy != 'Positioning...'">{{ accuracy }} meters</span>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>


<ion-content padding>
  <ion-list>
    <div *ngFor="let day of days">
      <button ion-item (click)="cs(day.minify, day.title)" *ngIf="today == day.minify" detail-push color="primary" class="btn btn-primary">
        <div>{{ day.title }} <span class="badge">{{(allData[day.minify]) ? allData[day.minify].length : 0}}</span></div>

      </button>
      <button ion-item (click)="cs(day.minify, day.title)" *ngIf="today != day.minify" detail-push class="btn">
        <div>{{ day.title }} <span class="badge">{{(allData[day.minify]) ? allData[day.minify].length : 0}}</span></div>
      </button>
    </div>
    <div>
      <button ion-item (click)="cs('Unspecified', 'Unspecified')" detail-push class="btn">
        <div>Unspecified <span class="badge">{{(allData["Unspecified"]) ? allData["Unspecified"].length : 0}}</span></div>
      </button>
    </div>
  </ion-list>

  <ul class="list-group" style="margin-top: 5px">
    <li class="list-group-item">
      <span class="badge">{{ lead }}</span>
      Lead
    </li>
    <li class="list-group-item">
      <span class="badge">{{ prospect }}</span>
      Prospect
    </li>
    <li class="list-group-item">
      <span class="badge">{{ active }}</span>
      Active
    </li>
    <li class="list-group-item">
      <span class="badge">{{ (lead + prospect + active) }}</span>
      Total Machines
    </li>
  </ul>

  <ion-fab bottom right>
    <button ion-fab [color]="accColor" (click)="addMachine($event)"><ion-icon name="add"></ion-icon></button>
  </ion-fab>
</ion-content>
